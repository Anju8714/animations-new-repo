<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Gemstone Scroll Pin Section</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: "Arial", sans-serif;
  color: #222;
}

/* ================= HERO PIN SECTION ================= */

.hero-pin {
  height: 100vh;
  background: #ffffff;
}

.hero-inner {
  height: 100%;
  display: flex;
  align-items: center;
  padding: 0 80px;
  gap: 80px;
}

.hero-text {
  flex: 1;
}

.hero-text h1 {
  font-family: "Georgia", serif;
  font-size: 64px;
  line-height: 1.1;
  margin-bottom: 20px;
}

.hero-text em {
  font-style: italic;
  font-weight: 400;
}

.hero-text blockquote {
  font-style: italic;
  color: #666;
  margin-bottom: 20px;
}

.hero-text p {
  max-width: 520px;
  line-height: 1.6;
  color: #555;
}

.hero-text a {
  display: inline-block;
  margin-top: 30px;
  text-decoration: none;
  font-weight: 600;
  color: #000;
}

/* ================= CANVAS ================= */

.hero-visual {
  flex: 1;
  height: 100%;
  position: relative;
}

#sequenceCanvas {
  width: 100%;
  height: 100%;
  display: block;
}

/* ================= EXTRA CONTENT ================= */

.spacer {
  height: 120vh;
  background: #f5f5f5;
  padding: 80px;
}

.spacer h2 {
  font-size: 40px;
}
.container {
  max-width: 1600px;
  margin: auto;

}
.banner-image {
  background: url("images/banner-image.png") no-repeat center center/cover;
  height: 242px;
  display: flex;
  align-items: center;
}
@media (max-width: 1679px) {
  .banner-image {
    height: 200px;
  }
}
@media (max-width: 767px) {
  .banner-image {
    height: 180px;
  }
}
@media (max-width: 579px) {
  .banner-image {
    height: 140px;
  }
}
.banner-image .banner-title {
  font-size: 32px;
  color: #FFFFFF;
  font-weight: 600;
  display: flex;
  justify-content: center;
  color: #0CBF07;
}
@media (max-width: 1679px) {
  .banner-image .banner-title {
    font-size: 28px;
  }
}
@media (max-width: 991px) {
  .banner-image .banner-title {
    font-size: 25px;
  }
}
@media (max-width: 579px) {
  .banner-image .banner-title {
    font-size: 23px;
  }
}
@media (max-width: 479px) {
  .banner-image .banner-title {
    font-size: 22px;
  }
}

/* ================= RESPONSIVE ================= */

@media (max-width: 900px) {
  .hero-inner {
    flex-direction: column;
    padding: 40px;
  }

  .hero-text h1 {
    font-size: 42px;
  }
}
</style>
</head>

<body>


  

<!-- BEFORE CONTENT -->
 <div class="banner-image">
         <div class="container custom-container">
               <div class="banner-title">About Us</div>
         </div>
         </div>

<!-- ================= HERO PIN SECTION ================= -->
<section class="hero-pin">
  <div class="hero-inner">

    <!-- LEFT TEXT -->
    <div class="hero-text">
      <h1>The Gemstone<br><em>Company.</em></h1>

      <blockquote>
        “An Institution Defined by Trust, Quality, and Expertise”
      </blockquote>

      <p>
        Navratna, the virtual subsidiary of The Gemstone Co., carries forward
        a legacy of over 84 years and four generations of gemstone expertise.
      </p>

      <a href="#">LEARN MORE</a>
    </div>

    <!-- RIGHT CANVAS -->
    <div class="hero-visual">
      <canvas id="sequenceCanvas"></canvas>
    </div>

  </div>
</section>

<!-- AFTER CONTENT -->
<div class="spacer">
  <h2>Next Section</h2>
</div>

<!-- ================= GSAP ================= -->
<script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>
<script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {

  gsap.registerPlugin(ScrollTrigger);

  const canvas = document.getElementById("sequenceCanvas");
  const ctx = canvas.getContext("2d");

  /* ===== CONFIG ===== */
  const FRAME_START = 40;
  const FRAME_END = 120;
  const CARD_SIZE = 640;
  /* ================= */

  const images = [];
  const frameCount = FRAME_END - FRAME_START + 1;
  const seq = { frame: 0 };

  function frameSrc(i) {
    return `frames/frame_${String(i).padStart(5, "0")}.jpg`;
  }

  // preload frames
  for (let i = FRAME_START; i <= FRAME_END; i++) {
    const img = new Image();
    img.src = frameSrc(i);
    images.push(img);
  }

  function resize() {
    canvas.width = canvas.offsetWidth;
    canvas.height = canvas.offsetHeight;
    draw();
  }

  window.addEventListener("resize", resize);

  function draw() {
    const img = images[seq.frame];
    if (!img || !img.complete) return;

    ctx.clearRect(0, 0, canvas.width, canvas.height);

    const cardX = (canvas.width - CARD_SIZE) / 2;
    const START_OFFSET_Y = -120
    const cardY = (canvas.height - CARD_SIZE) / 2 + START_OFFSET_Y;

    // ctx.fillStyle = "#ffffff";
    // ctx.fillRect(cardX, cardY, CARD_SIZE, CARD_SIZE);

    // ctx.strokeStyle = "#ccc";
    // ctx.strokeRect(cardX, cardY, CARD_SIZE, CARD_SIZE);

    const scale = Math.min(
      CARD_SIZE / img.width,
      CARD_SIZE / img.height
    );

    const w = img.width * scale;
    const h = img.height * scale;

    ctx.drawImage(
      img,
      cardX + (CARD_SIZE - w) / 2,
      cardY + (CARD_SIZE - h) / 2,
      w,
      h
    );
  }

  images[0].onload = () => {
    resize();

    gsap.to(seq, {
      frame: frameCount - 1,
      ease: "none",
      scrollTrigger: {
        trigger: ".hero-pin",
        start: "top top",
        end: "+=3000",
        scrub: 0.6,
        pin: true,
        anticipatePin: 1
      },
      onUpdate: () => {
        seq.frame = Math.round(seq.frame);
        draw();
      }
    });
  };

});
</script>

</body>
</html>
